import{l as e,a as l,w as a,g as s,o as t,d as u,f as o,z as n,u as c,M as d,i,Y as r,A as p}from"./index-CFSraVz9.js";import{_ as m}from"./_plugin-vue_export-helper.BCo6x5W8.js";const f=m({__name:"register",setup(m){const f=e("");e("").value="https://cdn.luckyiur.com/catcat",f.value="https://pawprintdiaries.luckyiur.com";const _=e(""),v=e(""),V=e(""),g=e(""),h=()=>{n({url:"/pages/login"})},y=()=>{_.value&&v.value&&V.value&&g.value?V.value===g.value?d({url:`${f.value}/api/user/register`,method:"POST",data:{username:_.value,email:v.value,password:V.value},header:{"Content-Type":"application/json"},success:e=>{console.log(e),200===e.statusCode&&"2000"===e.data.code?(c({title:"注册成功",icon:"success"}),n({url:"/pages/login"})):c({title:e.data.msg||"注册失败，请重试",icon:"none"})},fail:e=>{c({title:"网络错误，请重试",icon:"none"}),console.error("注册请求失败",e)}}):c({title:"密码和确认密码不匹配",icon:"none"}):c({title:"所有字段都是必填的",icon:"none"})};return(e,n)=>{const c=i,d=s,m=r,f=p;return t(),l(d,{class:"container"},{default:a((()=>[u(d,{class:"layout"},{default:a((()=>[u(d,{class:"header"},{default:a((()=>[u(c,{class:"title"},{default:a((()=>[o("注册并开始")])),_:1})])),_:1}),u(d,{class:"form"},{default:a((()=>[u(d,{class:"input-item"},{default:a((()=>[u(m,{class:"input",modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=e=>_.value=e),placeholder:"用户名"},null,8,["modelValue"])])),_:1}),u(d,{class:"input-item"},{default:a((()=>[u(m,{class:"input",modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=e=>v.value=e),placeholder:"邮箱"},null,8,["modelValue"])])),_:1}),u(d,{class:"input-item"},{default:a((()=>[u(m,{class:"input",type:"password",modelValue:V.value,"onUpdate:modelValue":n[2]||(n[2]=e=>V.value=e),placeholder:"密码"},null,8,["modelValue"]),u(d,{class:"input-eye"})])),_:1}),u(d,{class:"input-item"},{default:a((()=>[u(m,{class:"input",type:"password",modelValue:g.value,"onUpdate:modelValue":n[3]||(n[3]=e=>g.value=e),placeholder:"确认密码"},null,8,["modelValue"]),u(d,{class:"input-eye"})])),_:1})])),_:1}),u(d,{class:"footer"},{default:a((()=>[u(c,{class:"footer-text"},{default:a((()=>[o("注册即表明您同意我们的相关服务条款及细则")])),_:1}),u(c,{class:"footer-link"},{default:a((()=>[o("查看详情")])),_:1})])),_:1}),u(f,{class:"submit-button",type:"primary",onClick:y},{default:a((()=>[o("立即注册")])),_:1}),u(d,{class:"footer"},{default:a((()=>[u(d,{class:"footer-text"},{default:a((()=>[o(" 已经注册？ "),u(c,{onClick:h,class:"link"},{default:a((()=>[o("登录")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-20fc873b"]]);export{f as default};
